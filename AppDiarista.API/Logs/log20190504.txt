04-May-2019 09:20:51.008 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 09:20:56.809 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 09:20:56.809 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 09:20:57.488 -03:00 [INF] Request finished in 678.2843ms 200 
04-May-2019 09:20:57.585 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 09:20:58.456 -03:00 [INF] Request finished in 1651.5719ms 404 
04-May-2019 11:22:08.491 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:22:10.088 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:22:10.087 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:22:10.276 -03:00 [INF] Request finished in 173.0423ms 200 
04-May-2019 11:22:36.400 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:22:36.763 -03:00 [INF] Request finished in 26678.351ms 404 
04-May-2019 11:22:44.482 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/contratante application/json 367
04-May-2019 11:22:44.590 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:22:44.630 -03:00 [INF] Authorization failed.
04-May-2019 11:22:44.634 -03:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
04-May-2019 11:22:44.642 -03:00 [INF] Executing ChallengeResult with authentication schemes ([]).
04-May-2019 11:22:44.650 -03:00 [INF] AuthenticationScheme: JwtBearer was challenged.
04-May-2019 11:22:44.652 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 59.062000000000005ms
04-May-2019 11:22:44.656 -03:00 [INF] Request finished in 173.3049ms 401 
04-May-2019 11:22:44.672 -03:00 [INF] Connection id "0HLMGJFIE6KM5", Request id "0HLMGJFIE6KM5:00000002": the application completed without reading the entire request body.
04-May-2019 11:23:02.302 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 367
04-May-2019 11:23:02.310 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:23:02.310 -03:00 [INF] Authorization failed.
04-May-2019 11:23:02.311 -03:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
04-May-2019 11:23:02.312 -03:00 [INF] Executing ChallengeResult with authentication schemes ([]).
04-May-2019 11:23:02.312 -03:00 [INF] AuthenticationScheme: JwtBearer was challenged.
04-May-2019 11:23:02.312 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 2.2931ms
04-May-2019 11:23:02.312 -03:00 [INF] Request finished in 9.9936ms 401 
04-May-2019 11:23:02.313 -03:00 [INF] Connection id "0HLMGJFIE6KM4", Request id "0HLMGJFIE6KM4:00000002": the application completed without reading the entire request body.
04-May-2019 11:23:29.677 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 72
04-May-2019 11:23:29.678 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:23:29.679 -03:00 [INF] Authorization failed.
04-May-2019 11:23:29.679 -03:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
04-May-2019 11:23:29.679 -03:00 [INF] Executing ChallengeResult with authentication schemes ([]).
04-May-2019 11:23:29.679 -03:00 [INF] AuthenticationScheme: JwtBearer was challenged.
04-May-2019 11:23:29.679 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 0.7208ms
04-May-2019 11:23:29.680 -03:00 [INF] Request finished in 2.361ms 401 
04-May-2019 11:23:29.680 -03:00 [INF] Connection id "0HLMGJFIE6KM5", Request id "0HLMGJFIE6KM5:00000003": the application completed without reading the entire request body.
04-May-2019 11:24:28.093 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:24:29.391 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:24:29.391 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:24:29.564 -03:00 [INF] Request finished in 150.446ms 200 
04-May-2019 11:24:29.810 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:24:30.095 -03:00 [INF] Request finished in 706.3524ms 404 
04-May-2019 11:24:58.072 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 72
04-May-2019 11:24:58.163 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:24:58.189 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 22.7786ms
04-May-2019 11:26:03.721 -03:00 [ERR] API - Erro - @{ url = http://localhost:52807/api/login, metodo = POST, claimsUsuario =  }
System.InvalidOperationException: Unable to resolve service for type 'AppDiarista.ServiceApplication.Interfaces.IAuthenticationService' while attempting to activate 'AppDiarista.API.Controllers.LoginController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at AppDiarista.API.Middlewares.ErrorHandlingMiddleware.Invoke(HttpContext context) in C:\AppDiaristaAPI\AppDiarista.API\Middlewares\ErrorHandlingMiddleware.cs:line 30
04-May-2019 11:26:04.123 -03:00 [INF] Request finished in 66050.7306ms 400 application/json
04-May-2019 11:26:04.153 -03:00 [INF] Connection id "0HLMGJGRV1VG9", Request id "0HLMGJGRV1VG9:00000002": the application completed without reading the entire request body.
04-May-2019 11:26:07.358 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 72
04-May-2019 11:26:07.358 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:26:07.360 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 1.1084ms
04-May-2019 11:26:32.603 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:26:33.737 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:26:33.737 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:26:33.874 -03:00 [INF] Request finished in 122.0022ms 200 
04-May-2019 11:26:34.063 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:26:34.295 -03:00 [INF] Request finished in 561.4041ms 404 
04-May-2019 11:27:23.159 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 72
04-May-2019 11:27:23.266 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:27:23.949 -03:00 [INF] Executing action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) with arguments (["AppDiarista.DTO.LoginDTO"]) - Validation state: "Valid"
04-May-2019 11:27:24.265 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:27:27.280 -03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:27:27.410 -03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:27:27.434 -03:00 [INF] Executed action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3477.5469000000003ms.
04-May-2019 11:27:27.450 -03:00 [INF] Executing ObjectResult, writing value of type 'AppDiarista.API.Core.ApiResponse'.
04-May-2019 11:27:27.477 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 4207.8592ms
04-May-2019 11:27:27.486 -03:00 [INF] Request finished in 4326.5731ms 400 application/json; charset=utf-8
04-May-2019 11:28:29.595 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:28:30.935 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:28:30.935 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:28:31.087 -03:00 [INF] Request finished in 107.903ms 200 
04-May-2019 11:28:31.338 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:28:31.593 -03:00 [INF] Request finished in 661.3196ms 404 
04-May-2019 11:29:45.492 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/contratante application/json 367
04-May-2019 11:29:45.571 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:29:45.587 -03:00 [INF] Authorization failed.
04-May-2019 11:29:45.591 -03:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
04-May-2019 11:29:45.597 -03:00 [INF] Executing ChallengeResult with authentication schemes ([]).
04-May-2019 11:29:45.605 -03:00 [INF] AuthenticationScheme: JwtBearer was challenged.
04-May-2019 11:29:45.607 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 33.4943ms
04-May-2019 11:29:45.611 -03:00 [INF] Request finished in 118.4561ms 401 
04-May-2019 11:29:45.633 -03:00 [INF] Connection id "0HLMGJJ3TP0A7", Request id "0HLMGJJ3TP0A7:00000001": the application completed without reading the entire request body.
04-May-2019 11:30:19.617 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:30:20.701 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:30:20.701 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:30:20.833 -03:00 [INF] Request finished in 117.0507ms 200 
04-May-2019 11:30:21.058 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:30:21.288 -03:00 [INF] Request finished in 589.7066ms 404 
04-May-2019 11:30:22.925 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/contratante application/json 367
04-May-2019 11:30:23.019 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:30:23.604 -03:00 [INF] Executing action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) with arguments (["AppDiarista.DTO.CadastroContratanteDTO"]) - Validation state: "Valid"
04-May-2019 11:30:23.907 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:30:24.563 -03:00 [INF] Executed DbCommand (195ms) [Parameters=[@__email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [dbo].[Contratante] AS [w]
        WHERE [w].[Email] = @__email_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
04-May-2019 11:30:24.634 -03:00 [INF] Executed action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1019.0557ms.
04-May-2019 11:30:24.650 -03:00 [INF] Executing ObjectResult, writing value of type 'AppDiarista.API.Core.ApiResponse'.
04-May-2019 11:30:24.676 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 1653.4186ms
04-May-2019 11:30:24.683 -03:00 [INF] Request finished in 1758.2097ms 400 application/json; charset=utf-8
04-May-2019 11:30:48.825 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/contratante application/json 363
04-May-2019 11:30:48.826 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:30:48.925 -03:00 [INF] Executing action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) with arguments (["AppDiarista.DTO.CadastroContratanteDTO"]) - Validation state: "Valid"
04-May-2019 11:30:48.940 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:30:49.054 -03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [dbo].[Contratante] AS [w]
        WHERE [w].[Email] = @__email_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
04-May-2019 11:30:49.327 -03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 8), @p1='?' (Size = 150), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [dbo].[Endereco] ([Cep], [Cidade], [Complemento], [Estado], [Logradouro], [Numero])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [dbo].[Endereco]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
04-May-2019 11:30:49.569 -03:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (Size = 11), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (Size = 64), @p6='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [dbo].[Contratante] ([Cpf], [DataNascimento], [Email], [IdEndereco], [Nome], [Senha], [Telefone])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [dbo].[Contratante]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
04-May-2019 11:30:49.574 -03:00 [INF] Executed action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 648.2247ms.
04-May-2019 11:30:49.574 -03:00 [INF] Executing ObjectResult, writing value of type 'AppDiarista.API.Core.ApiResponse'.
04-May-2019 11:30:49.575 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 749.1615ms
04-May-2019 11:30:49.575 -03:00 [INF] Request finished in 750.686ms 200 application/json; charset=utf-8
04-May-2019 11:31:11.404 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 68
04-May-2019 11:31:11.411 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:31:11.445 -03:00 [INF] Executing action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) with arguments (["AppDiarista.DTO.LoginDTO"]) - Validation state: "Valid"
04-May-2019 11:31:15.172 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:31:15.281 -03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:31:16.325 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:32:06.242 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:32:07.780 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:32:07.780 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:32:07.902 -03:00 [INF] Request finished in 122.4328ms 200 
04-May-2019 11:32:08.093 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:32:08.417 -03:00 [INF] Request finished in 640.8554ms 404 
04-May-2019 11:32:10.881 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 68
04-May-2019 11:32:10.979 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:32:11.554 -03:00 [INF] Executing action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) with arguments (["AppDiarista.DTO.LoginDTO"]) - Validation state: "Valid"
04-May-2019 11:32:14.478 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:32:14.978 -03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:32:16.027 -03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__model_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Senha], [w].[Telefone]
FROM [dbo].[Contratante] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:33:33.225 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 82243.2176ms
04-May-2019 11:47:33.373 -03:00 [INF] User profile is available. Using 'C:\Users\joa.silva\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
04-May-2019 11:47:34.912 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:52807/  
04-May-2019 11:47:34.912 -03:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:52807/  0
04-May-2019 11:47:35.078 -03:00 [INF] Request finished in 126.592ms 200 
04-May-2019 11:47:35.380 -03:00 [WRN] Failed to determine the https port for redirect.
04-May-2019 11:47:35.701 -03:00 [INF] Request finished in 793.4671ms 404 
04-May-2019 11:47:59.575 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/login application/json 68
04-May-2019 11:47:59.715 -03:00 [INF] Route matched with {action = "Token", controller = "Login"}. Executing action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API)
04-May-2019 11:48:00.831 -03:00 [INF] Executing action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) with arguments (["AppDiarista.DTO.LoginDTO"]) - Validation state: "Valid"
04-May-2019 11:48:05.953 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:48:06.763 -03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Nota], [w].[PrecoDiaria], [w].[Senha], [w].[Telefone]
FROM [dbo].[Diarista] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:48:07.924 -03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__model_Email_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[Cpf], [w].[DataNascimento], [w].[Email], [w].[IdEndereco], [w].[Nome], [w].[Senha], [w].[Telefone]
FROM [dbo].[Contratante] AS [w]
WHERE [w].[Email] = @__model_Email_0
04-May-2019 11:49:41.860 -03:00 [INF] Executed action method AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101017.88130000001ms.
04-May-2019 11:49:41.875 -03:00 [INF] Executing ObjectResult, writing value of type 'AppDiarista.API.Core.ApiResponse'.
04-May-2019 11:49:41.897 -03:00 [INF] Executed action AppDiarista.API.Controllers.LoginController.Token (AppDiarista.API) in 102178.7371ms
04-May-2019 11:49:41.904 -03:00 [INF] Request finished in 102329.27ms 200 application/json; charset=utf-8
04-May-2019 11:51:41.767 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/diarista application/json 400
04-May-2019 11:51:41.801 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:51:41.822 -03:00 [INF] Authorization failed.
04-May-2019 11:51:41.825 -03:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
04-May-2019 11:51:41.832 -03:00 [INF] Executing ChallengeResult with authentication schemes ([]).
04-May-2019 11:51:41.841 -03:00 [INF] AuthenticationScheme: JwtBearer was challenged.
04-May-2019 11:51:41.841 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 39.460300000000004ms
04-May-2019 11:51:41.843 -03:00 [INF] Request finished in 75.4543ms 401 
04-May-2019 11:51:41.884 -03:00 [INF] Connection id "0HLMGJTORANCP", Request id "0HLMGJTORANCP:00000001": the application completed without reading the entire request body.
04-May-2019 11:52:20.303 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:52807/api/cadastro/diarista application/json 400
04-May-2019 11:52:20.432 -03:00 [INF] Successfully validated the token.
04-May-2019 11:52:20.435 -03:00 [INF] Route matched with {action = "Post", controller = "Cadastro"}. Executing action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API)
04-May-2019 11:52:20.436 -03:00 [INF] Authorization was successful.
04-May-2019 11:52:20.576 -03:00 [INF] Executing action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) with arguments (["AppDiarista.DTO.CadastroDiaristaDTO"]) - Validation state: "Valid"
04-May-2019 11:52:26.070 -03:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'UOWAppDiarista' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
04-May-2019 11:52:26.276 -03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [dbo].[Diarista] AS [w]
        WHERE [w].[Email] = @__email_0)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
04-May-2019 11:52:26.482 -03:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 8), @p1='?' (Size = 150), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [dbo].[Endereco] ([Cep], [Cidade], [Complemento], [Estado], [Logradouro], [Numero])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [dbo].[Endereco]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
04-May-2019 11:52:26.675 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Single), @p6='?' (DbType = Double), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [dbo].[Diarista] ([Cpf], [DataNascimento], [Email], [IdEndereco], [Nome], [Nota], [PrecoDiaria], [Senha], [Telefone])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [dbo].[Diarista]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
04-May-2019 11:52:26.678 -03:00 [INF] Executed action method AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6101.7187ms.
04-May-2019 11:52:26.678 -03:00 [INF] Executing ObjectResult, writing value of type 'AppDiarista.API.Core.ApiResponse'.
04-May-2019 11:52:26.679 -03:00 [INF] Executed action AppDiarista.API.Controllers.CadastroController.Post (AppDiarista.API) in 6243.8674ms
04-May-2019 11:52:26.680 -03:00 [INF] Request finished in 6376.892ms 200 application/json; charset=utf-8
